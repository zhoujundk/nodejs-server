<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>promise</title>
</head>
<body>
	<script type="text/javascript">
		var p1 = new Promise(function(resolve, reject) {
			setTimeout(function() {
				reject(new Error('fail'));
			}, 3000);
		});

		var p2 = new Promise(function(resolve, reject) {
			setTimeout(function() {
				resolve(p1);
			}, 1000)
		});

		p2.then(result => console.log(result))
		  .catch(error => console.log(error));
	</script>
</body>
</html>